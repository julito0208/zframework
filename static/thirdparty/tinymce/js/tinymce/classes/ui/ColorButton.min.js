
define("tinymce/ui/ColorButton",["tinymce/ui/PanelButton","tinymce/dom/DOMUtils"],function(PanelButton,DomUtils){"use strict";var DOM=DomUtils.DOM;return PanelButton.extend({init:function(settings){this._super(settings);this.addClass('colorbutton');},color:function(color){if(color){this._color=color;this.getEl('preview').style.backgroundColor=color;return this;}
return this._color;},renderHtml:function(){var self=this,id=self._id,prefix=self.classPrefix;var icon=self.settings.icon?prefix+'ico '+prefix+'i-'+self.settings.icon:'';var image=self.settings.image?' style="background-image: url(\''+self.settings.image+'\')"':'';return('<div id="'+id+'" class="'+self.classes()+'" role="button" tabindex="-1" aria-haspopup="true">'+'<button role="presentation" hidefocus="1" type="button" tabindex="-1">'+
(icon?'<i class="'+icon+'"'+image+'></i>':'')+'<span id="'+id+'-preview" class="'+prefix+'preview"></span>'+
(self._text?(icon?' ':'')+(self._text):'')+'</button>'+'<button type="button" class="'+prefix+'open" hidefocus="1" tabindex="-1">'+' <i class="'+prefix+'caret"></i>'+'</button>'+'</div>');},postRender:function(){var self=this,onClickHandler=self.settings.onclick;self.on('click',function(e){if(e.aria&&e.aria.key=='down'){return;}
if(e.control==self&&!DOM.getParent(e.target,'.'+self.classPrefix+'open')){e.stopImmediatePropagation();onClickHandler.call(self,e);}});delete self.settings.onclick;return self._super();}});});