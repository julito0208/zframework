
define("tinymce/ui/PanelButton",["tinymce/ui/Button","tinymce/ui/FloatPanel"],function(Button,FloatPanel){"use strict";return Button.extend({showPanel:function(){var self=this,settings=self.settings;self.active(true);if(!self.panel){var panelSettings=settings.panel;if(panelSettings.type){panelSettings={layout:'grid',items:panelSettings};}
panelSettings.role=panelSettings.role||'dialog';panelSettings.popover=true;panelSettings.autohide=true;panelSettings.ariaRoot=true;self.panel=new FloatPanel(panelSettings).on('hide',function(){self.active(false);}).on('cancel',function(e){e.stopPropagation();self.focus();self.hidePanel();}).parent(self).renderTo(self.getContainerElm());self.panel.fire('show');self.panel.reflow();}else{self.panel.show();}
self.panel.moveRel(self.getEl(),settings.popoverAlign||(self.isRtl()?['bc-tr','bc-tc']:['bc-tl','bc-tc']));},hidePanel:function(){var self=this;if(self.panel){self.panel.hide();}},postRender:function(){var self=this;self.aria('haspopup',true);self.on('click',function(e){if(e.control===self){if(self.panel&&self.panel.visible()){self.hidePanel();}else{self.showPanel();self.panel.focus(!!e.aria);}}});return self._super();},remove:function(){if(this.panel){this.panel.remove();this.panel=null;}
return this._super();}});});