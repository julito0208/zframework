
define("tinymce/dom/StyleSheetLoader",[],function(){"use strict";return function(document,settings){var idCount=0,loadedStates={},maxLoadTime;settings=settings||{};maxLoadTime=settings.maxLoadTime||5000;function appendToHead(node){document.getElementsByTagName('head')[0].appendChild(node);}
function load(url,loadedCallback,errorCallback){var link,style,startTime,state;function passed(){var callbacks=state.passed,i=callbacks.length;while(i--){callbacks[i]();}
state.status=2;state.passed=[];state.failed=[];}
function failed(){var callbacks=state.failed,i=callbacks.length;while(i--){callbacks[i]();}
state.status=3;state.passed=[];state.failed=[];}
function isOldWebKit(){var webKitChunks=navigator.userAgent.match(/WebKit\/(\d*)/);return!!(webKitChunks&&webKitChunks[1]<536);}
function wait(testCallback,waitCallback){if(!testCallback()){if((new Date().getTime())-startTime<maxLoadTime){window.setTimeout(waitCallback,0);}else{failed();}}}
function waitForWebKitLinkLoaded(){wait(function(){var styleSheets=document.styleSheets,styleSheet,i=styleSheets.length,owner;while(i--){styleSheet=styleSheets[i];owner=styleSheet.ownerNode?styleSheet.ownerNode:styleSheet.owningElement;if(owner&&owner.id===link.id){passed();return true;}}},waitForWebKitLinkLoaded);}
function waitForGeckoLinkLoaded(){wait(function(){try{var cssRules=style.sheet.cssRules;passed();return!!cssRules;}catch(ex){}},waitForGeckoLinkLoaded);}
if(!loadedStates[url]){state={passed:[],failed:[]};loadedStates[url]=state;}else{state=loadedStates[url];}
if(loadedCallback){state.passed.push(loadedCallback);}
if(errorCallback){state.failed.push(errorCallback);}
if(state.status==1){return;}
if(state.status==2){passed();return;}
if(state.status==3){failed();return;}
state.status=1;link=document.createElement('link');link.rel='stylesheet';link.type='text/css';link.id='u'+(idCount++);link.async=false;link.defer=false;startTime=new Date().getTime();if("onload"in link&&!isOldWebKit()){link.onload=waitForWebKitLinkLoaded;link.onerror=failed;}else{if(navigator.userAgent.indexOf("Firefox")>0){style=document.createElement('style');style.textContent='@import "'+url+'"';waitForGeckoLinkLoaded();appendToHead(style);return;}else{waitForWebKitLinkLoaded();}}
appendToHead(link);link.href=url;}
this.load=load;};});