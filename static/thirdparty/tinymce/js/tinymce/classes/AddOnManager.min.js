
define("tinymce/AddOnManager",["tinymce/dom/ScriptLoader","tinymce/util/Tools"],function(ScriptLoader,Tools){var each=Tools.each;function AddOnManager(){var self=this;self.items=[];self.urls={};self.lookup={};}
AddOnManager.prototype={get:function(name){if(this.lookup[name]){return this.lookup[name].instance;}else{return undefined;}},dependencies:function(name){var result;if(this.lookup[name]){result=this.lookup[name].dependencies;}
return result||[];},requireLangPack:function(name,languages){var language=AddOnManager.language;if(language&&AddOnManager.languageLoad!==false){if(languages){languages=','+languages+',';if(languages.indexOf(','+language.substr(0,2)+',')!=-1){language=language.substr(0,2);}else if(languages.indexOf(','+language+',')==-1){return;}}
ScriptLoader.ScriptLoader.add(this.urls[name]+'/langs/'+language+'.js');}},add:function(id,addOn,dependencies){this.items.push(addOn);this.lookup[id]={instance:addOn,dependencies:dependencies};return addOn;},createUrl:function(baseUrl,dep){if(typeof dep==="object"){return dep;}else{return{prefix:baseUrl.prefix,resource:dep,suffix:baseUrl.suffix};}},addComponents:function(pluginName,scripts){var pluginUrl=this.urls[pluginName];each(scripts,function(script){ScriptLoader.ScriptLoader.add(pluginUrl+"/"+script);});},load:function(name,addOnUrl,callback,scope){var self=this,url=addOnUrl;function loadDependencies(){var dependencies=self.dependencies(name);each(dependencies,function(dep){var newUrl=self.createUrl(addOnUrl,dep);self.load(newUrl.resource,newUrl,undefined,undefined);});if(callback){if(scope){callback.call(scope);}else{callback.call(ScriptLoader);}}}
if(self.urls[name]){return;}
if(typeof addOnUrl==="object"){url=addOnUrl.prefix+addOnUrl.resource+addOnUrl.suffix;}
if(url.indexOf('/')!==0&&url.indexOf('://')==-1){url=AddOnManager.baseURL+'/'+url;}
self.urls[name]=url.substring(0,url.lastIndexOf('/'));if(self.lookup[name]){loadDependencies();}else{ScriptLoader.ScriptLoader.add(url,loadDependencies,scope);}}};AddOnManager.PluginManager=new AddOnManager();AddOnManager.ThemeManager=new AddOnManager();return AddOnManager;});